(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b5047e0"],{"1aba":function(e,t,i){},"299f":function(e,t,i){},"353d":function(e,t,i){"use strict";var a=i("299f"),s=i.n(a);s.a},9968:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container messageboard app-container"},[i("el-form",{ref:"formSearch",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formSearch,size:"mini"}},[i("form",{attrs:{method:"get"}},[i("el-form-item",{attrs:{label:"状态",prop:"nstatus"}},[i("el-select",{attrs:{placeholder:"是否已领取奖金"},model:{value:e.formSearch.nstatus,callback:function(t){e.$set(e.formSearch,"nstatus",t)},expression:"formSearch.nstatus"}},[i("el-option",{attrs:{label:"全部",value:"-1"}}),e._v(" "),i("el-option",{attrs:{label:"未领取",value:"0"}}),e._v(" "),i("el-option",{attrs:{label:"已领取",value:"1"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"姓名",prop:"username"}},[i("el-input",{attrs:{placeholder:"请输入用户姓名",maxlength:"10"},model:{value:e.formSearch.username,callback:function(t){e.$set(e.formSearch,"username",t)},expression:"formSearch.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"电话",prop:"phone"}},[i("el-input",{attrs:{placeholder:"请输入用户电话",maxlength:"11"},model:{value:e.formSearch.phone,callback:function(t){e.$set(e.formSearch,"phone",t)},expression:"formSearch.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"车牌号",prop:"carNo"}},[i("el-input",{attrs:{placeholder:"请输入用户车牌号"},model:{value:e.formSearch.carNo,callback:function(t){e.$set(e.formSearch,"carNo",t)},expression:"formSearch.carNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:" "}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSearch(1)}}},[e._v("查询")]),e._v(" "),i("el-button",{attrs:{type:"warning",plain:""},on:{click:e.onReset}},[e._v("重置")])],1)],1)]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{prop:"username",label:"姓名",width:"150",align:"center",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"phone",label:"电话",align:"center",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"carNo",label:"车牌号",align:"center",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"signUpTime",label:"报名时间",align:"center",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{prop:"vstatus",label:"状态",align:"center",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"dectNo",label:"单号",align:"center",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.dectIsShow(t.row.nstatus),expression:"dectIsShow(scope.row.nstatus)"}],attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(i){return e.handleDect(t.$index,t.row)}}},[e._v("领取")]),e._v(" "),i("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(i){return e.handleDectEdit(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),i("el-button",{attrs:{size:"mini",plain:"",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("el-pagination",{staticClass:"pageStyle",attrs:{background:"",layout:"total,sizes,prev, pager, next,jumper","current-page":e.pageInfo.currentPage,"page-size":e.pageInfo.pageSize,total:e.pageInfo.pageTotal,"page-sizes":[5,10,20,50]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-button",{staticClass:"addDesc",attrs:{type:"primary"},on:{click:function(t){return e.getDesc()}}},[e._v("活动详情")]),e._v(" "),i("el-dialog",{attrs:{title:e.formDectTitle,visible:e.dialogDectVisibleEdit,width:"40%"},on:{"update:visible":function(t){e.dialogDectVisibleEdit=t},close:function(t){return e.closeDialog("formEdit")}}},[i("el-form",{ref:"formDectEdit",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formDectEdit,size:"medium",rules:e.rules}},[i("el-form-item",{attrs:{label:"姓名",prop:"username"}},[i("el-input",{attrs:{placeholder:"请输入姓名",maxlength:"10"},model:{value:e.formDectEdit.username,callback:function(t){e.$set(e.formDectEdit,"username",t)},expression:"formDectEdit.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"电话",prop:"phone"}},[i("el-input",{attrs:{placeholder:"请输入电话",maxlength:"11"},model:{value:e.formDectEdit.phone,callback:function(t){e.$set(e.formDectEdit,"phone",t)},expression:"formDectEdit.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"车牌号",prop:"carNo"}},[i("el-input",{attrs:{placeholder:"请输入车牌号",maxlength:"7"},model:{value:e.formDectEdit.carNo,callback:function(t){e.$set(e.formDectEdit,"carNo",t)},expression:"formDectEdit.carNo"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"报名时间",prop:""}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.formDectEdit.signUpTime,callback:function(t){e.$set(e.formDectEdit,"signUpTime",t)},expression:"formDectEdit.signUpTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"领取状态",prop:""}},[i("el-select",{on:{change:e.selectNstatus},model:{value:e.formDectEdit.vstatus,callback:function(t){e.$set(e.formDectEdit,"vstatus",t)},expression:"formDectEdit.vstatus"}},[i("el-option",{attrs:{label:"未领取",value:"0"}}),e._v(" "),i("el-option",{attrs:{label:"已领取",value:"1"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"单号"}},[i("el-input",{attrs:{disabled:e.isDisabled},model:{value:e.formDectEdit.dectNo,callback:function(t){e.$set(e.formDectEdit,"dectNo",t)},expression:"formDectEdit.dectNo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogDectVisibleEdit=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.formDectEditSubmit("formDectEdit")}}},[e._v("提交")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.formDectTitle,visible:e.dialogDectVisible,width:"20%"},on:{"update:visible":function(t){e.dialogDectVisible=t},close:function(t){return e.closeDialog("formEdit")}}},[i("el-form",{ref:"formDect",staticClass:"demo-form-inline",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formDect,size:"medium"}},[i("el-form-item",{attrs:{label:"单号",prop:""}},[i("el-input",{attrs:{placeholder:"请输入单号"},model:{value:e.formDect.dectNo,callback:function(t){e.$set(e.formDect,"dectNo",t)},expression:"formDect.dectNo"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogDectVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.formDectSubmit}},[e._v("提交")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.formDescTitle,visible:e.dialogDescVisible,width:"60%"},on:{"update:visible":function(t){e.dialogDescVisible=t},close:function(t){return e.closeDialog("")}}},[i("el-form",{ref:"formDect",staticClass:"demo-form-inline descstyle",attrs:{"label-position":e.labelPosition,"label-width":e.labelWidth,inline:!0,model:e.formDesc,size:"medium"}},[i("el-form-item",{attrs:{label:"详情一",prop:""}},[i("el-input",{attrs:{placeholder:"请输入活动详情一",prop:"formDesc.desc1",maxlength:"80",type:"text","show-word-limit":!0},model:{value:e.formDesc.desc1,callback:function(t){e.$set(e.formDesc,"desc1",t)},expression:"formDesc.desc1"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"详情二",prop:""}},[i("el-input",{attrs:{placeholder:"请输入活动详情二",maxlength:"50","show-word-limit":""},model:{value:e.formDesc.desc2,callback:function(t){e.$set(e.formDesc,"desc2",t)},expression:"formDesc.desc2"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"详情三",prop:""}},[i("el-input",{attrs:{placeholder:"请输入活动详情三",maxlength:"50","show-word-limit":""},model:{value:e.formDesc.desc3,callback:function(t){e.$set(e.formDesc,"desc3",t)},expression:"formDesc.desc3"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogDescVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.formDescSubmit}},[e._v("提交")])],1)],1)],1)},s=[],o=(i("28a5"),i("3b2b"),i("b775"));function r(e){e={nstatus:e.nstatus,phone:e.phone,username:e.username,carNo:e.carNo,pageNum:e.currentPage,pageSize:e.pageSize};return Object(o["a"])({url:"/api/getOwnerInfo",method:"post",data:e})}var l={name:"messageboard",data:function(){var e=function(e,t,i){var a=new RegExp(/^([a-zA-Z0-9-\u4e00-\u9fa5]+)$/);a.test(t)?i():i(new Error("请输入正确的姓名"))},t=function(e,t,i){var a=new RegExp(/^[1][3,4,5,6,7,8,9][0-9]{9}$/);a.test(t)?i():i(new Error("请输入正确的电话"))},i=function(e,t,i){if(t){var a=new RegExp(/^[鲁京津沪渝冀晋辽吉黑苏浙皖闽赣豫鄂湘粤琼川贵云陕甘青藏桂蒙宁新]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/);a.test(t)?i():i(new Error("请输入正确的车牌号"))}else i()};return{listLoading:!1,pageInfo:{currentPage:1,pageSize:10,pageTotal:80},id:"",formSearch:{nstatus:"-1",username:"",phone:"",carNo:""},formDect:{dectNo:""},formDesc:{desc1:"",desc2:"",desc3:""},dectNo:"",formDectEdit:{username:"",date:"",time:""},formEdit:{},addFormVisible:!1,userList:[],isDisabled:!1,formDectTitle:"检测单号",formDectDisabled:!1,formDescTitle:"活动详情",formDescDisabled:!1,dialogDescVisible:!1,dialogDectVisible:!1,dialogDectVisibleEdit:!1,dialogType:"",tableData:[],labelPosition:"right",labelWidth:"80px",multipleSelection:[],rules:{username:[{validator:e,trigger:"change"},{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:t,trigger:"change"},{required:!0,message:"请输入电话",trigger:"blur"}],carNo:[{validator:i,trigger:"change"}]}}},computed:{},filters:{convertType:function(e){return 1==e?"留言":2==e?"建议":3==e?"BUG":void 0}},mounted:function(){this.onSearch()},methods:{handleEditDesc:function(){this.dialogDescVisible=!0},dectIsShow:function(e){this.formDect.dectNo="";var t=!0;return 1==parseInt(e)&&(t=!1),t},onSearch:function(e){var t=this;e&&(this.pageInfo.currentPage=1),this.listLoading=!0;var i=Object.assign({},this.formSearch,this.pageInfo);r(i).then((function(e){if(t.listLoading=!1,console.log("表格执行到这里了"),e){var i=e;"0"==i.result.resultCode?(t.pageInfo.pageTotal=i.total,t.tableData=i.userInfos,console.log(i.userInfos)):i.message&&t.$message({message:i.message,type:"error"})}})).catch((function(e){t.listLoading=!1,t.$message({message:"查询异常，请重试",type:"error"})}))},handleDect:function(e,t){var i=this;this.id=t.id,this.dialogDectVisible=!0,this.$nextTick((function(){i.formDectTitle="检测单号",i.formDectDisabled=!1}))},handleDectEdit:function(e,t){var i=this;this.id=t.id,this.formDectEdit=window.JSON.parse(window.JSON.stringify(t)),this.dectNo=window.JSON.parse(window.JSON.stringify(t.dectNo));var a=t.signUpTime.split(" "),s=a[0].split("-"),o=a[1].split(":");this.formDectEdit.signUpTime=new Date(s[0],parseInt(s[1])-1,s[2],o[0],o[1],o[2]),this.dialogDectVisibleEdit=!0,this.isDisabled=1!=parseInt(this.formDectEdit.nstatus),this.$nextTick((function(){i.formDectTitle="编辑报名信息",i.formDectDisabled=!1}))},formDectSubmit:function(){var e=this;if(!this.formDect.dectNo)return this.$message({message:"请填写检测单号",type:"error"}),!1;apis.msgApi.changeStutas({id:this.id,dectNo:this.formDect.dectNo}).then((function(t){if(t&&t.data){var i=t.data;if(i&&"0"==i.result.resultCode)return e.$message({message:"领取成功",type:"success"}),e.dialogDectVisible=!1,void e.onSearch();e.$message({message:i.result.resultDesc,type:"error"})}})).catch((function(t){e.$message({message:"执行失败，请重试",type:"error"})}))},handleDelete:function(e,t){var i=this,a=t.id;console.log(a),this.$confirm("确定删除该条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){apis.msgApi.deleteInfo({id:a}).then((function(e){if(e&&e.data){var t=e.data;if(t&&"0"==t.result.resultCode)return i.$message({message:"删除信息成功",type:"success"}),i.dialogDectVisible=!1,void i.onSearch()}i.$message({message:"执行失败，请重试",type:"error"})})).catch((function(e){i.$message({message:"执行失败，请重试",type:"error"})}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},selectNstatus:function(e){this.formDectEdit.nstatus=e,"1"==e?(this.isDisabled=!1,this.formDectEdit.dectNo=this.dectNo):(this.formDectEdit.dectNo="",this.isDisabled=!0)},formDectEditSubmit:function(e){var t=this;this.$refs[e].validate((function(e){return!!e&&(1!=parseInt(t.formDectEdit.nstatus)||t.formDectEdit.dectNo?void apis.msgApi.editInfo({id:t.id,dataEdit:t.formDectEdit}).then((function(e){if(e&&e.data){var i=e.data;if(i&&"0"==i.result.resultCode)return t.$message({message:"修改信息成功",type:"success"}),t.onSearch(),void(t.dialogDectVisibleEdit=!1)}t.$message({message:i.result.resultDesc,type:"error"})})).catch((function(e){t.$message({message:"执行失败，请重试",type:"error"})})):(t.$message({message:"请填写检测单号",type:"error"}),!1))}))},formDescSubmit:function(){var e=this;if(!(this.formDesc.desc1&&this.formDesc.desc2&&this.formDesc.desc3))return this.$message({message:"请填写活动详情",type:"error"}),!1;apis.msgApi.editDesc({desc:this.formDesc}).then((function(t){if(t&&t.data){var i=t.data;if(i&&"0"==i.result.resultCode)return e.$message({message:"修改活动信息成功",type:"success"}),void(e.dialogDescVisible=!1)}e.$message({message:i.result.resultDesc,type:"error"})})).catch((function(t){e.$message({message:"执行失败，请重试",type:"error"})}))},getDesc:function(){var e=this,t=this;apis.msgApi.getDesc({}).then((function(e){if(e&&e.data){var i=e.data;i&&"0"==i.result.resultCode&&(t.formDesc=i.descInfo[0],t.dialogDescVisible=!0)}})).catch((function(t){e.$message({message:"执行失败，请重试",type:"error"})}))},onReset:function(){this.$refs["formSearch"].resetFields()},closeDialog:function(e){},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.onSearch()},handleCurrentChange:function(e){this.pageInfo.currentPage=e,this.onSearch()},handleSelectionChange:function(e){var t=[],i=t.join(",");this.ids=i},openDetail:function(e){this.$common.OpenNewPage(this,"detail",e)}}},n=l,c=(i("fac6"),i("353d"),i("2877")),d=Object(c["a"])(n,a,s,!1,null,null,null);t["default"]=d.exports},fac6:function(e,t,i){"use strict";var a=i("1aba"),s=i.n(a);s.a}}]);